<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `RecvMode` struct in crate `tk_http`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, RecvMode">

    <title>tk_http::server::RecvMode - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../normalize.css">
    <link rel="stylesheet" type="text/css" href="../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../main.css">
    

    
    
</head>
<body class="rustdoc struct">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'>Struct RecvMode</p><div class="block items"><ul><li><a href="#methods">Methods</a></li><li><a href="#implementations">Trait Implementations</a></li></ul></div><p class='location'><a href='../index.html'>tk_http</a>::<wbr><a href='index.html'>server</a></p><script>window.sidebarCurrent = {name: 'RecvMode', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Struct <a href='../index.html'>tk_http</a>::<wbr><a href='index.html'>server</a>::<wbr><a class="struct" href=''>RecvMode</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../../src/tk_http/server/mod.rs.html#52-55' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct RecvMode { /* fields omitted */ }</pre><div class='docblock'><p>This type is returned from <code>headers_received</code> handler of either
client client or server protocol handler</p>

<p>The marker is used to denote whether you want to have the whole response
buffered for you or read chunk by chunk.</p>

<p>The <code>Progressive</code> (chunk by chunk) mode is mostly useful for proxy servers.
Or it may be useful if your handler is able to parse data without holding
everything in the memory.</p>

<p>Otherwise, it&#39;s best to use <code>Buffered</code> mode (for example, comparing with
using your own buffering). We do our best to optimize it for you.</p>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><span class='in-band'><code>impl <a class="struct" href="../../tk_http/server/struct.RecvMode.html" title="struct tk_http::server::RecvMode">RecvMode</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/tk_http/server/recv_mode.rs.html#13-69' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.buffered_upfront' class="method"><span id='buffered_upfront.v' class='invisible'><code>fn <a href='#method.buffered_upfront' class='fnname'>buffered_upfront</a>(max_body_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="struct" href="../../tk_http/server/struct.RecvMode.html" title="struct tk_http::server::RecvMode">RecvMode</a></code></span></h4>
<div class='docblock'><p>Download whole message body (request or response) into the memory
before starting response</p>

<p>The argument is maximum size of the body. The Buffered variant
works equally well for Chunked encoding and for read-util-end-of-stream
mode of HTTP/1.0, so sometimes you can&#39;t know the size of the request
in advance. Note this is just an upper limit it&#39;s neither buffer size
nor <em>minimum</em> size of the body.</p>
</div><h4 id='method.progressive' class="method"><span id='progressive.v' class='invisible'><code>fn <a href='#method.progressive' class='fnname'>progressive</a>(min_chunk_size_hint: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="struct" href="../../tk_http/server/struct.RecvMode.html" title="struct tk_http::server::RecvMode">RecvMode</a></code></span></h4>
<div class='docblock'><p>Fetch data chunk-by-chunk.</p>

<p>Note, your response handler can start either before or after
progressive body has started or ended to read. I mean they are
completely independent, and actual sequence of events depends on other
requests coming in and performance of a client.</p>

<p>The parameter denotes minimum number of bytes that may be passed
to the protocol handler. This is for performance tuning (i.e. less
wake-ups of protocol parser). But it&#39;s not an input buffer size. The
use of <code>Progressive(1)</code> is perfectly okay (for example if you use http
request body as a persistent connection for sending multiple messages
on-demand)</p>
</div><h4 id='method.hijack' class="method"><span id='hijack.v' class='invisible'><code>fn <a href='#method.hijack' class='fnname'>hijack</a>() -&gt; <a class="struct" href="../../tk_http/server/struct.RecvMode.html" title="struct tk_http::server::RecvMode">RecvMode</a></code></span></h4>
<div class='docblock'><p>Don&#39;t read request body and hijack connection after response headers
are sent. Useful for connection upgrades, including websockets and
for CONNECT method.</p>

<p>Note: <code>data_received</code> method of Codec is never called for <code>Hijack</code>d
connection.</p>
</div><h4 id='method.body_read_timeout' class="method"><span id='body_read_timeout.v' class='invisible'><code>fn <a href='#method.body_read_timeout' class='fnname'>body_read_timeout</a>(self, duration: <a class="struct" href="https://doc.rust-lang.org/nightly/std/time/duration/struct.Duration.html" title="struct std::time::duration::Duration">Duration</a>) -&gt; <a class="struct" href="../../tk_http/server/struct.RecvMode.html" title="struct tk_http::server::RecvMode">RecvMode</a></code></span></h4>
<div class='docblock'><p>Change timeout for reading the whole request body to this value
instead of configured default</p>

<p>This might be useful if you have some specific slow routes and you
can authenticate that request is valid enough. This is also useful for
streaming large bodies and similar things.</p>

<p>Or vice versa if you what shorter timeouts for suspicious host.</p>
</div></div><h2 id='implementations'>Trait Implementations</h2><h3 class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="../../tk_http/server/struct.RecvMode.html" title="struct tk_http::server::RecvMode">RecvMode</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/tk_http/server/mod.rs.html#51' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.fmt' class="method"><span id='fmt.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt' class='fnname'>fmt</a>(&amp;self, __arg_0: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></code></span></h4>
<div class='docblock'><p>Formats the value using the given formatter.</p>
</div></div><h3 class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> for <a class="struct" href="../../tk_http/server/struct.RecvMode.html" title="struct tk_http::server::RecvMode">RecvMode</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/tk_http/server/mod.rs.html#51' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.clone' class="method"><span id='clone.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone' class='fnname'>clone</a>(&amp;self) -&gt; <a class="struct" href="../../tk_http/server/struct.RecvMode.html" title="struct tk_http::server::RecvMode">RecvMode</a></code></span></h4>
<div class='docblock'><p>Returns a copy of the value. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone">Read more</a></p>
</div><h4 id='method.clone_from' class="method"><span id='clone_from.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from' class='fnname'>clone_from</a>(&amp;mut self, source: &amp;Self)</code><div class='since' title='Stable since Rust version 1.0.0'>1.0.0</div></span></h4>
<div class='docblock'><p>Performs copy-assignment from <code>source</code>. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from">Read more</a></p>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../";
        window.currentCrate = "tk_http";
    </script>
    <script src="../../main.js"></script>
    <script defer src="../../search-index.js"></script>
</body>
</html>